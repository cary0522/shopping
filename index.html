<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="shopping.css">
    <script src="https://kit.fontawesome.com/5292bd8fe4.js" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <title>Document</title>
</head>

<body>
    <nav class="container-fluid d-flex justify-content-between p-3 position-relative nav">
        <input type="checkbox" id="bars" class="burger">
        <div class="burger_item position-absolute d-flex justify-content-evenly">
            <a href="https://cary0522.github.io/front/" class="text-success">首頁</a>
            <a href="https://cary0522.github.io/RWD2/" class="text-success">甜點</a>
            <a href="https://cary0522.github.io/login/" class="text-success">登入</a>
        </div>
        <label for="bars" class="bars_btn">
            <i class="fa-solid fa-bars text-success"></i>
        </label>
        <div class="logo text-success">
            <i class="fa-solid fa-h"></i>
            <i class="fa-solid fa-s"></i>
            <i class="fa-solid fa-u"></i>
        </div>
        <div class="shopping_car text-success">
            <a href="https://cary0522.github.io/shopping/">
            <i class="fa-solid fa-cart-shopping text-success"></i></a>
        </div>
    </nav>
    <div class="container-fluid d-flex flex-wrap text-success my-3">
        <div class="container-fluid bg-success bg-opacity-10">
            <h4 class="text-success text-center p-2 m-0">產品列表</h4>
        </div>
        <div class="productList container-fluid d-lg-flex flex-wrap justify-content-center p-3" id="productList">
        </div>
    </div>
    <div class="container-fluid shopping d-md-flex">
        <div class="col-md-8">
            <div class="container-fluid bg-success bg-opacity-10">
                <h4 class="text-success text-center p-2 m-3">您的購物車</h4>
            </div>
            <div class="container-fluid d-flex text-success my-3">
                <div class="container-fluid d-flex flex-wrap justify-content-center" id="shoppingItem">
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="orderSummary">
                <div class="bg-success bg-opacity-10 m-3">
                    <h4 class="text-success text-center p-2 orderSummaryText">訂單摘要</h4>
                </div>
                <div class="d-flex text-success">
                    <div class="col-6 px-3">
                        <p>小計</p>
                    </div>
                    <div class="col-3 text-end mx-1">
                        <p>NT$</p>
                    </div>
                    <div class="col-3 text-left">
                        <p id="totalPriceTwo">0</p>
                    </div>
                </div>
                <div class="d-flex text-success">
                    <div class="col-6 px-3">
                        <p>運費</p>
                    </div>
                    <div class="col-3 text-end mx-1">
                        <p>NT$</p>
                    </div>
                    <div class="col-3 text-left">
                        <p id="freight">60</p>
                    </div>
                </div>
                <div class="d-flex text-success fs-2">
                    <div class="col-6 px-3">
                        <p>總計</p>
                    </div>
                    <div class="col-3 text-end mx-1">
                        <p>NT$</p>
                    </div>
                    <div class="col-3 text-left">
                        <p id="allPrice">60</p>
                    </div>
                </div>
            </div>
            <div class="container-fluid bg-warning text-center text-success bg-opacity-50">
                <button class="btn fs-4 text-success" id="checkOut">結帳</button>
            </div>
        </div>
    </div>
    <div class="container-fluid transport">

    </div>
    <div class="container-fluid my-5">
        <div class="container-fluid bg-success d-flex flex-wrap flex-sm-nowrap justify-content-center py-3 ">
            <div
                class="justify-content-center d-flex justify-content-center text-white col-12 col-sm-6 align-items-sm-center">
                <i class="fa-solid fa-s m-2 py-1"></i>
                <span class="m-2">訂閱你我的甜蜜郵件</span>
            </div>
            <div class="input-group d-flex justify-content-center w-50 text-white m-2">
                <i class="fa-regular fa-envelope input-group-text py-2 text-success"></i>
                <input type="text" class="form-control" placeholder="email">
                <button class="btn btn-warning text-white input-group-text">
                    <i class="fa-solid fa-arrow-right text-success"></i>
                </button>
            </div>
        </div>
        <div class="footer bg-success bg-opacity-10 text-success position-relative">
            <div class="container-fluid p-3">
                <div class="m-3">
                    <i class="fa-solid fa-h"></i>
                    <i class="fa-solid fa-s"></i>
                    <i class="fa-solid fa-u"></i>
                </div>
                <div class="m-3">
                    <span>cary0522@gmail.com</span>
                </div>
                <div class="m-3">
                    <a href="https://www.facebook.com/">
                        <i class="fa-brands fa-facebook text-success"></i></a>
                    <a href="https://www.instagram.com/?hl=zh-tw">
                        <i class="fa-brands fa-instagram text-success"></i></a>
                </div>
                <div class="date m-3 mx-5">
                    <div>
                        <span>今天是個————</span>
                    </div>
                    <div class="my-3">
                        <span>吃甜點的好日子。</span>
                    </div>
                </div>
                <div class="m-3 year">
                    <span>@2024</span>
                </div>
            </div>
        </div>
    </div>
    <script>
        let totalPriceTwo = document.querySelector("#totalPriceTwo");
        let freight = document.querySelector("#freight");
        let allPrice = document.querySelector("#allPrice");

        let productOne = {
            name: "sweet",
            price: 40,
            image: "https://picsum.photos/id/201/200/200"
        }

        let productTwo = {
            name: "butter",
            price: 40,
            image: "https://picsum.photos/id/206/200/200"
        }

        let productThree = {
            name: "banana",
            price: 10,
            image: "https://picsum.photos/id/209/200/200"
        }

        let productFour = {
            name: "apple",
            price: 70,
            image: "https://picsum.photos/id/230/200/200"
        }

        let products = [];
        products.push(productOne);
        products.push(productTwo);
        products.push(productThree);
        products.push(productFour);

        for (var j = 0; j < products.length; j++) {
            let productList = document.querySelector("#productList");
            let newDivList = document.createElement("div");
            newDivList.id = `newDivList${j}`;
            newDivList.className = "newDivList col-lg-6";
            newDivList.innerHTML = `
            <div class="d-flex m-3 justify-content-around container-fluid">
                <div class="col-3">
                    <img src='${products[j].image}' alt='' >
                </div>
                <div class="col-3 d-flex flex-wrap align-items-sm-center position-relative">
                        <div class="m-2 d-flex order-1">
                            <p class="p-0 m-0"> ${products[j].name} </p>
                            <div class="d-flex">
                                <p class="p-0 mx-2 perPrice"> ${products[j].price} </p>
                                <p class="p-0 m-0">$</p>
                            </div>
                        </div>
                    <div class="input-group my-3 order-3">
                        <button onclick="minus(this)"class="btn input-group-text border-secondary-subtle btnMinus"id="btnMinus${j}">
                            <i class="fa-solid fa-minus text-success"></i>
                        </button>
                        <input type="text" class="form-control text-success goods" value="1" id="goods${j}">
                        <button onclick="plus(this)"class="btn input-group-text border-secondary-subtle btnPlus" id="btnPlus${j}">
                            <i class="fa-solid fa-plus text-success"></i>
                        </button>
                    </div>
                    <div class="col-12 d-flex justify-content-end my-2 totalPrice order-4">
                        <p class="py-2 m-0">NT$</p>
                        <p class="py-2 m-0" id="totalPrePrice${j}"> ${products[j].price} </p>
                    </div>
                    <div class="cart_shopping col-2 order-2 my-1 position-absolute">
                        <button onclick="join(this)" class="btn" id="btnCartShopping${j}">
                            <i class="fa-solid fa-cart-shopping text-success"></i></button>
                    </div>
                </div>
            </div>`
            productList.appendChild(newDivList);
        }

        function minus(e) {
            for (var p = 0; p < products.length; p++) {
                if (e.id == `btnMinus${p}`) {
                    let goods = document.querySelector(`#goods${p}`);
                    let currentValue = parseInt(goods.value);
                    if (currentValue > 0) {
                        goods.value = currentValue - 1;
                    }
                    let currentValueN = parseInt(goods.value);
                    let totalPrePrice = document.querySelector(`#totalPrePrice${p}`);
                    totalPrePrice.textContent = currentValueN * products[p].price;
                }
            }
        }

        function plus(e) {
            for (var p = 0; p < products.length; p++) {
                if (e.id == `btnPlus${p}`) {
                    let goods = document.querySelector(`#goods${p}`);
                    let currentValue = parseInt(goods.value);
                    goods.value = currentValue + 1;
                    let currentValueN = parseInt(goods.value);
                    let totalPrePrice = document.querySelector(`#totalPrePrice${p}`);
                    totalPrePrice.textContent = currentValueN * products[p].price;
                }
            }
        }

        function join(e) {
            for (var b = 0; b < products.length; b++) {
                if (e.id == `btnCartShopping${b}`) {
                    if (document.querySelector(`#newDiv${b}`)) {
                        let goods_value = document.querySelector(`#goods${b}`);
                        let shopping_goods = document.querySelector(`#shopping_goods${b}`)
                        let goods_value_num = parseInt(goods_value.value);
                        let shopping_goods_num = parseInt(shopping_goods.value);
                        shopping_goods.value = goods_value_num + shopping_goods_num;
                        let totalPrice = document.querySelector(`#totalPrice${b}`);
                        totalPrice.textContent = parseInt(shopping_goods.value) * products[b].price;
                    } else {
                        let shoppingItem = document.querySelector("#shoppingItem");
                        let newDiv = document.createElement("div");
                        newDiv.id = `newDiv${b}`;
                        let goods_value = document.querySelector(`#goods${b}`);
                        let goods_value_num = parseInt(goods_value.value);
                        let totalPrePrice = document.querySelector(`#totalPrePrice${b}`);
                        let totalPrePrice_num = parseInt(totalPrePrice.textContent);

                        newDiv.innerHTML = `
                    <div class="d-flex m-3">
                        <div class="col-6 col-lg-4">
                            <img src='${products[b].image}' alt='' >
                        </div>
                        <div class="col-6 col-lg-8 d-lg-flex align-items-sm-center">
                            <div class="m-2 d-lg-flex">
                                <p class="p-0 m-0"> ${products[b].name} </p>
                                <div class="d-flex">
                                    <p class="p-0 m-0 perPrice"> ${products[b].price} </p>
                                    <p class="p-0 m-0">$</p>
                                </div>
                            </div>
                            <div class="input-group my-3">
                                <button onclick="decrement(this)"class="btn input-group-text border-secondary-subtle btnMinus"id="btnMinus_car${b}">
                                    <i class="fa-solid fa-minus text-success"></i>
                                </button>
                                <input type="text" class="form-control text-success goods" value=${goods_value_num} id="shopping_goods${b}">
                                <button onclick="increment(this)"class="btn input-group-text border-secondary-subtle btnPlus" id="btnPlus_car${b}">
                                    <i class="fa-solid fa-plus text-success"></i>
                                </button>
                            </div>
                            <div class="col-12 col-lg-2 d-flex justify-content-end my-2 totalPrice">
                                <p class="py-2 m-0">NT$</p>
                                <p class="py-2 m-0" id="totalPrice${b}"> ${totalPrePrice_num} </p>
                            </div>
                            <div class="trash">
                                <button onclick="zero(this)" class="btn" id="btnTrash${b}">
                                    <i class="fa-solid fa-trash text-success"></i></button>
                            </div>
                        </div>
                    </div>
                    `
                        shoppingItem.appendChild(newDiv);
                    }
                    let goods = document.querySelector(`#goods${b}`);
                    goods.value = 1;
                    let totalPrePrice = document.querySelector(`#totalPrePrice${b}`);
                    totalPrePrice.textContent = products[b].price;
                }
            }
            money();
        }

        function decrement(e) {
            for (var x = 0; x < products.length; x++) {
                if (e.id == `btnMinus_car${x}`) {
                    let shopping_goods = document.querySelector(`#shopping_goods${x}`);
                    let currentValue = parseInt(shopping_goods.value);
                    if (currentValue > 0) {
                        shopping_goods.value = currentValue - 1;
                    }
                    let currentValueN = parseInt(shopping_goods.value);
                    let totalPrice = document.querySelector(`#totalPrice${x}`);
                    totalPrice.textContent = currentValueN * products[x].price;
                }
                money();
            }
        }

        function increment(e) {
            for (var y = 0; y < products.length; y++) {
                if (e.id == `btnPlus_car${y}`) {
                    let shopping_goods = document.querySelector(`#shopping_goods${y}`);
                    let currentValue = parseInt(shopping_goods.value);
                    shopping_goods.value = currentValue + 1;
                    let currentValueN = parseInt(shopping_goods.value);
                    let totalPrice = document.querySelector(`#totalPrice${y}`);
                    totalPrice.textContent = currentValueN * products[y].price;
                }
            }
            money();
        }

        function zero(e) {
            for (var s = 0; s < products.length; s++) {
                if (e.id == `btnTrash${s}`) {
                    let rDiv = document.querySelector(`#newDiv${s}`);
                    rDiv.remove();
                }
            }
            if (!$("#shoppingItem").has("div").length) {
                totalPriceTwo.textContent = 0;
                allPrice.textContent = parseInt(totalPriceTwo.textContent) + parseInt(freight.textContent);
            } else {
                money();
            }
        }

        function money() {
            let totalPriceSum = 0;
            for (var t = 0; t < products.length; t++) {
                if (document.querySelector(`#totalPrice${t}`)) {
                    let totalPrice = document.querySelector(`#totalPrice${t}`);
                    let totalPrice_num = parseInt(totalPrice.textContent);
                    totalPriceSum += totalPrice_num;
                    totalPriceTwo.textContent = totalPriceSum;
                }
                if (totalPriceSum >= 200) {
                    freight.textContent = 0;
                }else{
                    freight.textContent = 60;
                }
                allPrice.textContent = parseInt(totalPriceTwo.textContent) + parseInt(freight.textContent);
            }
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous">
    </script>
    <script src="https://code.jquery.com/jquery-3.7.1.js"
        integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous">
    </script>
    <script>
        let city = {
            '基隆市': {
                '仁愛區': '200',
                '信義區': '201',
                '中正區': '202',
                '中山區': '203',
                '安樂區': '204',
                '暖暖區': '205',
                '七堵區': '206'
            },
            '臺北市': {
                '中正區': '100',
                '大同區': '103',
                '中山區': '104',
                '松山區': '105',
                '大安區': '106',
                '萬華區': '108',
                '信義區': '110',
                '士林區': '111',
                '北投區': '112',
                '內湖區': '114',
                '南港區': '115',
                '文山區': '116'
            },
            '新北市': {
                '萬里區': '207',
                '金山區': '208',
                '板橋區': '220',
                '汐止區': '221',
                '深坑區': '222',
                '石碇區': '223',
                '瑞芳區': '224',
                '平溪區': '226',
                '雙溪區': '227',
                '貢寮區': '228',
                '新店區': '231',
                '坪林區': '232',
                '烏來區': '233',
                '永和區': '234',
                '中和區': '235',
                '土城區': '236',
                '三峽區': '237',
                '樹林區': '238',
                '鶯歌區': '239',
                '三重區': '241',
                '新莊區': '242',
                '泰山區': '243',
                '林口區': '244',
                '蘆洲區': '247',
                '五股區': '248',
                '八里區': '249',
                '淡水區': '251',
                '三芝區': '252',
                '石門區': '253'
            },
            '宜蘭縣': {
                '宜蘭市': '260',
                '頭城鎮': '261',
                '礁溪鄉': '262',
                '壯圍鄉': '263',
                '員山鄉': '264',
                '羅東鎮': '265',
                '三星鄉': '266',
                '大同鄉': '267',
                '五結鄉': '268',
                '冬山鄉': '269',
                '蘇澳鎮': '270',
                '南澳鄉': '272',
                '釣魚臺列嶼': '290'
            },
            '新竹市': {
                '東區': '300',
                '北區': '300',
                '香山區': '300'
            },
            '新竹縣': {
                '竹北市': '302',
                '湖口鄉': '303',
                '新豐鄉': '304',
                '新埔鎮': '305',
                '關西鎮': '306',
                '芎林鄉': '307',
                '寶山鄉': '308',
                '竹東鎮': '310',
                '五峰鄉': '311',
                '橫山鄉': '312',
                '尖石鄉': '313',
                '北埔鄉': '314',
                '峨眉鄉': '315'
            },
            '桃園市': {
                '中壢區': '320',
                '平鎮區': '324',
                '龍潭區': '325',
                '楊梅區': '326',
                '新屋區': '327',
                '觀音區': '328',
                '桃園區': '330',
                '龜山區': '333',
                '八德區': '334',
                '大溪區': '335',
                '復興區': '336',
                '大園區': '337',
                '蘆竹區': '338'
            },
            '苗栗縣': {
                '竹南鎮': '350',
                '頭份市': '351',
                '三灣鄉': '352',
                '南庄鄉': '353',
                '獅潭鄉': '354',
                '後龍鎮': '356',
                '通霄鎮': '357',
                '苑裡鎮': '358',
                '苗栗市': '360',
                '造橋鄉': '361',
                '頭屋鄉': '362',
                '公館鄉': '363',
                '大湖鄉': '364',
                '泰安鄉': '365',
                '銅鑼鄉': '366',
                '三義鄉': '367',
                '西湖鄉': '368',
                '卓蘭鎮': '369'
            },
            '臺中市': {
                '中區': '400',
                '東區': '401',
                '南區': '402',
                '西區': '403',
                '北區': '404',
                '北屯區': '406',
                '西屯區': '407',
                '南屯區': '408',
                '太平區': '411',
                '大里區': '412',
                '霧峰區': '413',
                '烏日區': '414',
                '豐原區': '420',
                '后里區': '421',
                '石岡區': '422',
                '東勢區': '423',
                '和平區': '424',
                '新社區': '426',
                '潭子區': '427',
                '大雅區': '428',
                '神岡區': '429',
                '大肚區': '432',
                '沙鹿區': '433',
                '龍井區': '434',
                '梧棲區': '435',
                '清水區': '436',
                '大甲區': '437',
                '外埔區': '438',
                '大安區': '439'
            },
            '彰化縣': {
                '彰化市': '500',
                '芬園鄉': '502',
                '花壇鄉': '503',
                '秀水鄉': '504',
                '鹿港鎮': '505',
                '福興鄉': '506',
                '線西鄉': '507',
                '和美鎮': '508',
                '伸港鄉': '509',
                '員林市': '510',
                '社頭鄉': '511',
                '永靖鄉': '512',
                '埔心鄉': '513',
                '溪湖鎮': '514',
                '大村鄉': '515',
                '埔鹽鄉': '516',
                '田中鎮': '520',
                '北斗鎮': '521',
                '田尾鄉': '522',
                '埤頭鄉': '523',
                '溪州鄉': '524',
                '竹塘鄉': '525',
                '二林鎮': '526',
                '大城鄉': '527',
                '芳苑鄉': '528',
                '二水鄉': '530'
            },
            '南投縣': {
                '南投市': '540',
                '中寮鄉': '541',
                '草屯鎮': '542',
                '國姓鄉': '544',
                '埔里鎮': '545',
                '仁愛鄉': '546',
                '名間鄉': '551',
                '集集鎮': '552',
                '水里鄉': '553',
                '魚池鄉': '555',
                '信義鄉': '556',
                '竹山鎮': '557',
                '鹿谷鄉': '558'
            },
            '嘉義市': {
                '東區': '600',
                '西區': '600'
            },
            '嘉義縣': {
                '番路鄉': '602',
                '梅山鄉': '603',
                '竹崎鄉': '604',
                '阿里山鄉': '605',
                '中埔鄉': '606',
                '大埔鄉': '607',
                '水上鄉': '608',
                '鹿草鄉': '611',
                '太保市': '612',
                '朴子市': '613',
                '東石鄉': '614',
                '六腳鄉': '615',
                '新港鄉': '616',
                '民雄鄉': '621',
                '大林鎮': '622',
                '溪口鄉': '623',
                '義竹鄉': '624',
                '布袋鎮': '625'
            },
            '雲林縣': {
                '斗南鎮': '630',
                '大埤鄉': '631',
                '虎尾鎮': '632',
                '土庫鎮': '633',
                '褒忠鄉': '634',
                '東勢鄉': '635',
                '臺西鄉': '636',
                '崙背鄉': '637',
                '麥寮鄉': '638',
                '斗六市': '640',
                '林內鄉': '643',
                '古坑鄉': '646',
                '莿桐鄉': '647',
                '西螺鎮': '648',
                '二崙鄉': '649',
                '北港鎮': '651',
                '水林鄉': '652',
                '口湖鄉': '653',
                '四湖鄉': '654',
                '元長鄉': '655'
            },
            '臺南市': {
                '中西區': '700',
                '東區': '701',
                '南區': '702',
                '北區': '704',
                '安平區': '708',
                '安南區': '709',
                '永康區': '710',
                '歸仁區': '711',
                '新化區': '712',
                '左鎮區': '713',
                '玉井區': '714',
                '楠西區': '715',
                '南化區': '716',
                '仁德區': '717',
                '關廟區': '718',
                '龍崎區': '719',
                '官田區': '720',
                '麻豆區': '721',
                '佳里區': '722',
                '西港區': '723',
                '七股區': '724',
                '將軍區': '725',
                '學甲區': '726',
                '北門區': '727',
                '新營區': '730',
                '後壁區': '731',
                '白河區': '732',
                '東山區': '733',
                '六甲區': '734',
                '下營區': '735',
                '柳營區': '736',
                '鹽水區': '737',
                '善化區': '741',
                '大內區': '742',
                '山上區': '743',
                '新市區': '744',
                '安定區': '745'
            },
            '高雄市': {
                '新興區': '800',
                '前金區': '801',
                '苓雅區': '802',
                '鹽埕區': '803',
                '鼓山區': '804',
                '旗津區': '805',
                '前鎮區': '806',
                '三民區': '807',
                '楠梓區': '811',
                '小港區': '812',
                '左營區': '813',
                '仁武區': '814',
                '大社區': '815',
                '東沙群島': '817',
                '南沙群島': '819',
                '岡山區': '820',
                '路竹區': '821',
                '阿蓮區': '822',
                '田寮區': '823',
                '燕巢區': '824',
                '橋頭區': '825',
                '梓官區': '826',
                '彌陀區': '827',
                '永安區': '828',
                '湖內區': '829',
                '鳳山區': '830',
                '大寮區': '831',
                '林園區': '832',
                '鳥松區': '833',
                '大樹區': '840',
                '旗山區': '842',
                '美濃區': '843',
                '六龜區': '844',
                '內門區': '845',
                '杉林區': '846',
                '甲仙區': '847',
                '桃源區': '848',
                '那瑪夏區': '849',
                '茂林區': '851',
                '茄萣區': '852'
            },
            '屏東縣': {
                '屏東市': '900',
                '三地門鄉': '901',
                '霧臺鄉': '902',
                '瑪家鄉': '903',
                '九如鄉': '904',
                '里港鄉': '905',
                '高樹鄉': '906',
                '鹽埔鄉': '907',
                '長治鄉': '908',
                '麟洛鄉': '909',
                '竹田鄉': '911',
                '內埔鄉': '912',
                '萬丹鄉': '913',
                '潮州鎮': '920',
                '泰武鄉': '921',
                '來義鄉': '922',
                '萬巒鄉': '923',
                '崁頂鄉': '924',
                '新埤鄉': '925',
                '南州鄉': '926',
                '林邊鄉': '927',
                '東港鎮': '928',
                '琉球鄉': '929',
                '佳冬鄉': '931',
                '新園鄉': '932',
                '枋寮鄉': '940',
                '枋山鄉': '941',
                '春日鄉': '942',
                '獅子鄉': '943',
                '車城鄉': '944',
                '牡丹鄉': '945',
                '恆春鎮': '946',
                '滿州鄉': '947'
            },
            '臺東縣': {
                '臺東市': '950',
                '綠島鄉': '951',
                '蘭嶼鄉': '952',
                '延平鄉': '953',
                '卑南鄉': '954',
                '鹿野鄉': '955',
                '關山鎮': '956',
                '海端鄉': '957',
                '池上鄉': '958',
                '東河鄉': '959',
                '成功鎮': '961',
                '長濱鄉': '962',
                '太麻里鄉': '963',
                '金峰鄉': '964',
                '大武鄉': '965',
                '達仁鄉': '966'
            },
            '花蓮縣': {
                '花蓮市': '970',
                '新城鄉': '971',
                '秀林鄉': '972',
                '吉安鄉': '973',
                '壽豐鄉': '974',
                '鳳林鎮': '975',
                '光復鄉': '976',
                '豐濱鄉': '977',
                '瑞穗鄉': '978',
                '萬榮鄉': '979',
                '玉里鎮': '981',
                '卓溪鄉': '982',
                '富里鄉': '983'
            },
            '金門縣': {
                '金沙鎮': '890',
                '金湖鎮': '891',
                '金寧鄉': '892',
                '金城鎮': '893',
                '烈嶼鄉': '894',
                '烏坵鄉': '896'
            },
            '連江縣': {
                '南竿鄉': '209',
                '北竿鄉': '210',
                '莒光鄉': '211',
                '東引鄉': '212'
            },
            '澎湖縣': {
                '馬公市': '880',
                '西嶼鄉': '881',
                '望安鄉': '882',
                '七美鄉': '883',
                '白沙鄉': '884',
                '湖西鄉': '885'
            }

        };

        $("#checkOut").click(function () {
            $(".transport").html(`
            <div class="bg-success mt-3 text-white d-flex flex-wrap justify-content-md-center">
                <h4 class="col-12 m-3 text-md-center">運送資訊</h4>
                <div class="transport_firstName d-flex flex-wrap justify-content-md-center col-5 m-3 ms-lg-0">
                    <span class="col-10 m-2">姓氏</span>
                    <input type="text" class="col-10 m-2">    
                </div>
                <div class="transport_lastName  d-flex flex-wrap col-5 m-3">
                    <span class="col-10 m-2">名字</span>
                    <input type="text" class="col-10 m-2">
                </div>
                <div class="transport_phoneNumber  d-flex flex-wrap col-10 m-3">
                    <span class="col-10 m-2">電話</span>
                    <input type="text" class="col-12 m-2">
                </div>
                <div class="transport_address  d-flex flex-wrap col-10 m-3">
                    <span class="col-10 m-2">地址</span>
                    <select name="addressCity" class="col-5 m-2" id="addressCityList"></select>
                    <select name="addressArea" class="col-5 m-2" id="addressAreaList"></select>
                    <input type="text" class="col-12 m-2" id="addressText" value="">
                </div>
            </div>
            <div class="container-fluid bg-warning text-center text-success bg-opacity-50">
                <button class="btn fs-4 text-success" id="next">下一步</button>
            </div>`)
            let addressCityListOption = "";
            for (let i = 0; i < Object.keys(city).length; i++) {
                addressCityListOption += `<option value="${i}">${Object.keys(city)[i]}</option>`;
            }
            $("#addressCityList").html(addressCityListOption);

            $("#addressCityList").change(function () {
                let addressAreaListOption = "";
                let cityName = Object.keys(city)[$("#addressCityList").val()];
                for (var j = 0; j < Object.keys(city[cityName]).length; j++) {
                    addressAreaListOption +=
                        `<option value="${j}">${Object.keys(city[cityName])[j]}</option>`;
                }
                $("#addressAreaList").html(addressAreaListOption);
            })

            $("#addressAreaList").change(function () {
                let cityT = Object.keys(city)[$("#addressCityList").val()];
                let areaT = Object.keys(city[cityT])[$("#addressAreaList").val()];
                $("#addressText").val(cityT + areaT);
            })

            $("#next").click(function () {
                $(".transport").html(`
                    <div class="bg-success mt-3 mb-0 text-white justify-content-md-center">
                        <h4 class="col-12 p-3 text-md-center">發票</h4>
                        <div class="d-flex justify-content-center">
                            <button class="btn border border-white mx-0 ms-3 rounded-0 col-5" id="btnMail">電子發票</button>
                            <button class="btn border border-white mx-0 me-3 rounded-0 col-5" id="btnPost">郵寄發票</button>
                        </div>   
                        <div class="invoiceContent">             
                            <div class="d-flex flex-wrap col-5 m-3">
                                <span class="col-10 m-2">電子郵件</span>
                                <input type="text" class="col-10 m-2">
                            </div>               
                            <div class="d-flex flex-wrap col-5 p-3">
                                <span class="col-10 m-2">統編（選填）</span>
                                <input type="text" class="col-10 m-2">
                            </div>
                        </div>
                    </div>
                    <div class="container-fluid bg-warning text-center text-success bg-opacity-50">
                        <button class="btn fs-4 text-success mt-0" id="">確認結帳</button>
                    </div>
                `)
                $("#btnPost").click(function () {
                    $(".invoiceContent").html(`           
                        <div class="d-flex flex-wrap col-10 m-3">
                            <span class="col-10 m-2">地址</span>
                            <select name="addressCity" class="col-5 m-2" id="addressCityList"></select>
                            <select name="addressArea" class="col-5 m-2" id="addressAreaList"></select>
                            <input type="text" class="col-12 m-2" id="addressText" value="">
                        </div>           
                        <div class="d-flex flex-wrap col-5 p-3">
                            <span class="col-10 m-2">統編（選填）</span>
                            <input type="text" class="col-10 m-2">
                        </div>
                    `)
                    let addressCityListOption = "";
                    for (let i = 0; i < Object.keys(city).length; i++) {
                        addressCityListOption +=
                            `<option value="${i}">${Object.keys(city)[i]}</option>`;
                    }
                    $("#addressCityList").html(addressCityListOption);

                    $("#addressCityList").change(function () {
                        let addressAreaListOption = "";
                        let cityName = Object.keys(city)[$("#addressCityList").val()];
                        for (var j = 0; j < Object.keys(city[cityName]).length; j++) {
                            addressAreaListOption +=
                                `<option value="${j}">${Object.keys(city[cityName])[j]}</option>`;
                        }
                        $("#addressAreaList").html(addressAreaListOption);
                    })

                    $("#addressAreaList").change(function () {
                        let cityT = Object.keys(city)[$("#addressCityList").val()];
                        let areaT = Object.keys(city[cityT])[$("#addressAreaList")
                            .val()];
                        $("#addressText").val(cityT + areaT);
                    })
                })

                $("#btnMail").click(function () {
                    $(".invoiceContent").html(`               
                        <div class="d-flex flex-wrap col-5 m-3">
                            <span class="col-10 m-2">電子郵件</span>
                            <input type="text" class="col-10 m-2">
                        </div>               
                        <div class="d-flex flex-wrap col-5 p-3">
                            <span class="col-10 m-2">統編（選填）</span>
                            <input type="text" class="col-10 m-2">
                        </div>
                    `)
                })
            })


        })
    </script>
</body>

</html>